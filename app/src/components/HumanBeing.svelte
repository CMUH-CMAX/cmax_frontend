<script context="module">
	export function focus_body(part) {
		let all_parts = document.querySelectorAll(`#human > path[name]`);
		for (let el of all_parts) {
			let passive = el.attributes.passive.value;
			el.attributes.fill.value = passive;
			el.attributes.state.value = '0';
		}
		if (part != 'empty' && part != undefined) {
			document.body.style.overscrollBehavior = 'none';
			let target = document.querySelector(`[name="${part}"]`);
			let active = target.attributes.active.value;
			// check target is null or not
			target.attributes.fill.value = active;
			target.attributes.state.value = '1';
		} else {
			// I don't it's a good idea to put it here or not.
			document.body.style.overscrollBehavior = 'auto';
		}
	}
</script>

<script>
	// TODO: this might be a issues
	export const body_parts = [
		'empty',
		'head',
		'chest',
		'stomach',
		'left_arm',
		'right_arm',
		'symphysis',
		'left_leg',
		'right_leg',
		'left_knee',
		'right_knee',
		'left_calves',
		'right_calves',
		'left_foot',
		'right_foot'
	];
	export let body_selected = undefined;
	let body_index = 0;
	function select_body() {
		let name = this.attributes.name.value;
		if (name == 'empty') name = undefined;
		body_selected = name;
		focus_body(name);
	}
	// TODO: this might be a issues
	$: body_selected =
		body_selected == undefined || body_parts.indexOf(body_selected) > -1
			? body_selected
			: undefined;
</script>

<svg
	id="human"
	width="222"
	height="502"
	viewBox="0 0 222 502"
	fill="none"
	xmlns="http://www.w3.org/2000/svg"
>
	<!-- selection hack {body_parts[body_index++]} -->
	<rect
		on:click={select_body}
		name={body_parts[body_index++]}
		x="0"
		y="0"
		width="100%"
		height="100%"
		fill="#12345600"
	/>
	<path
		on:click={select_body}
		name={body_parts[body_index++]}
		fill="#9AD0D0"
		active="#388E8E"
		passive="#9AD0D0"
		state="0"
		d="M110.503 86.1391C105.509 86.1402 100.534 85.5283 95.6882 84.3172C99.1001 78.9223 99.2036 70.45 98.1212 64.1772C98.0808 63.9471 97.9567 63.7403 97.773 63.5966C97.4483 63.3418 97.1659 63.1246 96.8977 62.8745C93.9988 60.3257 91.8858 56.9887 90.6198 54.6382C89.3373 52.3201 88.3597 49.8451 87.7115 47.275C87.6603 47.0335 87.5166 46.8217 87.3115 46.6851C86.0032 45.8054 84.8151 44.7582 83.7773 43.5699C82.789 42.4229 81.6172 40.6813 81.6172 38.8924C81.6172 36.1312 83.0996 34.4793 84.3702 33.9081C84.5368 33.833 84.678 33.7109 84.7766 33.5567C84.8752 33.4025 84.927 33.2229 84.9255 33.0397C84.982 20.4988 88.2668 11.2476 94.6953 5.5365C98.663 2.01837 103.762 0.0527203 109.058 0C109.571 0 110.079 0 110.569 0.0613594H110.729C111.199 0.0188798 111.722 0 112.235 0C117.53 0.0581511 122.627 2.02692 126.593 5.54594C133.016 11.2571 136.301 20.5082 136.358 33.0491C136.361 33.2344 136.418 33.4147 136.523 33.5674C136.628 33.7202 136.775 33.8387 136.946 33.9081C138.217 34.4793 139.699 36.1312 139.699 38.8924C139.699 40.6813 138.527 42.4229 137.544 43.5699C136.504 44.7561 135.316 45.803 134.009 46.6851C133.803 46.8208 133.657 47.0327 133.605 47.275C132.956 49.845 131.978 52.3199 130.696 54.6382C129.435 56.9981 127.322 60.3021 124.419 62.8745C124.155 63.1058 123.868 63.3465 123.543 63.5966C123.359 63.7392 123.236 63.9469 123.2 64.1772C122.117 70.4264 122.216 78.861 125.59 84.2559C120.659 85.5104 115.591 86.143 110.503 86.1391Z"
	/>
	<path
		on:click={select_body}
		name={body_parts[body_index++]}
		fill="#9AD0D0"
		active="#388E8E"
		passive="#9AD0D0"
		state="0"
		d="M145.849 173.005C134.555 171.896 122.677 171.334 110.502 171.334C98.3277 171.334 86.4403 171.896 75.1505 173.005C75.2399 163.296 74.7882 151.105 74.3552 143.378C74.6085 140.984 74.7358 138.578 74.7364 136.171C74.7686 122.187 70.4828 108.537 62.4678 97.0943C65.3855 94.4417 69.2162 93.0965 73.8705 93.0965C80.8542 93.0965 88.751 93.0965 94.4923 85.96C104.983 88.7139 116.003 88.7139 126.493 85.96C132.235 93.0965 140.141 93.0965 147.115 93.0965C151.769 93.0965 155.586 94.4417 158.518 97.0943C150.504 108.537 146.22 122.188 146.254 136.171C146.255 138.578 146.381 140.984 146.63 143.378C146.212 151.105 145.76 163.311 145.849 173.005Z"
	/>
	<path
		on:click={select_body}
		name={body_parts[body_index++]}
		fill="#9AD0D0"
		active="#388E8E"
		passive="#9AD0D0"
		state="0"
		d="M110.502 223.254C96.1715 223.294 81.8524 222.453 67.625 220.734C68.9333 212.361 70.7828 203.605 72.2746 196.516C73.1216 192.508 73.8511 189.049 74.3358 186.377C74.7688 184.017 75.0323 180.147 75.1264 174.908C86.4209 173.789 98.3083 173.223 110.502 173.223C122.695 173.223 134.592 173.789 145.886 174.908C145.976 180.147 146.244 184.003 146.672 186.377C147.143 189.049 147.886 192.513 148.733 196.516C150.225 203.596 152.075 212.361 153.383 220.734C139.154 222.453 124.833 223.295 110.502 223.254Z"
	/>
	<path
		on:click={select_body}
		name={body_parts[body_index++]}
		fill="#9AD0D0"
		active="#388E8E"
		passive="#9AD0D0"
		state="0"
		d="M8.16967 270.538C7.53559 270.516 6.92784 270.278 6.44727 269.863C6.27677 269.717 6.05981 269.636 5.83548 269.636C5.64937 269.637 5.46759 269.693 5.31311 269.797C4.88688 270.059 4.40078 270.206 3.9013 270.226C3.72714 270.227 3.55395 270.2 3.38834 270.146C2.83303 269.962 2.6542 269.117 2.6542 268.73C2.65441 268.586 2.62188 268.444 2.55908 268.315C2.49628 268.186 2.40487 268.073 2.29184 267.984C2.12628 267.855 1.92257 267.786 1.713 267.786C1.63642 267.776 1.55898 267.776 1.4824 267.786C1.37696 267.817 1.26761 267.833 1.15768 267.833C1.04062 267.837 0.92437 267.812 0.819276 267.76C0.714183 267.708 0.623505 267.631 0.555312 267.536C0.39113 267.269 0.284523 266.971 0.242372 266.66C0.200222 266.35 0.223464 266.034 0.310598 265.733C0.428249 265.261 1.35534 263.208 2.24948 261.221C4.03307 257.265 6.25432 252.338 6.75316 250.029C6.78259 249.892 6.78105 249.75 6.74864 249.613C6.71623 249.476 6.65377 249.348 6.56583 249.239C6.47788 249.129 6.36667 249.041 6.24031 248.98C6.11396 248.919 5.97565 248.888 5.83548 248.887C5.60059 248.887 5.37398 248.974 5.20017 249.133C3.78836 250.435 2.37655 251.153 1.27533 251.153C0.432955 251.153 0.0705905 250.747 0 250.558C0.870616 249.93 1.91536 248.387 3.64718 245.772C4.80015 244.03 6.10843 242.058 7.49671 240.264C9.87796 237.191 14.2075 235.544 16.1605 235.072C16.3769 235.022 16.5686 234.896 16.7017 234.718C22.0525 227.567 28.8621 206.007 30.8198 199.568C31.8034 196.345 32.7022 193.244 33.4081 190.601C34.9376 184.889 36.2647 182.704 38.1142 179.679C40.1519 176.313 42.6884 172.127 46.7262 161.648C52.4958 146.677 53.5594 135.217 54.5947 124.163C54.9712 120.127 55.3618 115.95 55.9736 111.65C56.7783 105.986 58.5195 101.559 61.1502 98.4766C68.8101 109.542 72.9002 122.699 72.8682 136.17C72.8659 138.464 72.7465 140.756 72.5106 143.038C71.3058 145.294 59.6066 167.312 59.1548 173.694C59.04 175.021 58.8085 176.335 58.4631 177.621C57.4309 181.388 56.0115 185.037 54.2276 188.51C51.9828 192.286 36.1141 221.512 28.0197 236.474C27.9539 236.598 27.9154 236.735 27.9068 236.875C27.7515 239.849 26.415 247.943 22.4666 257.303C19.0971 265.284 13.7699 268.508 12.1133 268.508H12.0145C11.8414 268.348 11.6147 268.259 11.3792 268.258H11.2804C11.1308 268.273 10.9869 268.323 10.8608 268.406C10.7347 268.488 10.6301 268.599 10.5556 268.73C9.88267 269.934 9.07323 270.538 8.16967 270.538Z"
	/>
	<path
		on:click={select_body}
		name={body_parts[body_index++]}
		fill="#9AD0D0"
		active="#388E8E"
		passive="#9AD0D0"
		state="0"
		d="M212.83 270.538C211.926 270.538 211.136 269.934 210.477 268.74C210.402 268.609 210.298 268.498 210.172 268.415C210.046 268.333 209.902 268.283 209.752 268.268H209.653C209.418 268.268 209.191 268.358 209.018 268.518H208.919C207.267 268.518 201.935 265.294 198.566 257.313C194.613 247.953 193.276 239.849 193.121 236.885C193.112 236.744 193.074 236.608 193.008 236.484C184.914 221.521 169.045 192.291 166.8 188.519C165.016 185.047 163.597 181.397 162.565 177.631C162.219 176.344 161.988 175.03 161.873 173.703C161.402 167.322 149.722 145.304 148.517 143.047C148.283 140.766 148.165 138.474 148.164 136.18C148.133 122.709 152.221 109.553 159.878 98.4863C162.513 101.568 164.254 105.996 165.054 111.66C165.666 115.96 166.057 120.156 166.433 124.172C167.468 135.241 168.537 146.686 174.302 161.658C178.339 172.136 180.89 176.323 182.914 179.688C184.744 182.714 186.071 184.88 187.62 190.61C188.326 193.258 189.22 196.359 190.203 199.578C192.161 206.016 198.971 227.577 204.321 234.728C204.454 234.906 204.646 235.032 204.863 235.082C206.82 235.554 211.145 237.201 213.526 240.274C214.915 242.067 216.223 244.05 217.376 245.782C219.108 248.397 220.152 249.94 221.023 250.568C220.952 250.757 220.59 251.163 219.748 251.163C218.647 251.163 217.254 250.445 215.823 249.143C215.675 249.007 215.489 248.922 215.29 248.9C215.091 248.878 214.89 248.92 214.717 249.02C214.544 249.12 214.408 249.273 214.328 249.456C214.247 249.64 214.227 249.844 214.27 250.039C214.769 252.347 216.99 257.275 218.774 261.23C219.668 263.217 220.595 265.275 220.712 265.743C220.806 266.047 220.834 266.367 220.794 266.683C220.754 266.999 220.648 267.303 220.482 267.574C220.414 267.669 220.323 267.747 220.218 267.798C220.113 267.85 219.997 267.875 219.879 267.871C219.77 267.871 219.66 267.855 219.555 267.824C219.415 267.793 219.271 267.793 219.131 267.823C218.991 267.853 218.86 267.913 218.745 267.999C218.632 268.087 218.541 268.2 218.478 268.33C218.415 268.459 218.383 268.601 218.383 268.744C218.383 269.122 218.204 269.967 217.649 270.16C217.483 270.215 217.31 270.242 217.136 270.241C216.636 270.221 216.15 270.073 215.724 269.811C215.57 269.707 215.388 269.651 215.202 269.651C214.977 269.651 214.76 269.731 214.59 269.877C214.098 270.296 213.475 270.53 212.83 270.538Z"
	/>
	<path
		on:click={select_body}
		name={body_parts[body_index++]}
		fill="#9AD0D0"
		active="#388E8E"
		passive="#9AD0D0"
		state="0"
		d="M113.062 264.129C112.507 263.234 112.012 262.304 111.58 261.344C111.441 261.019 111.181 260.761 110.855 260.626C110.742 260.584 110.623 260.562 110.502 260.56C110.381 260.561 110.262 260.583 110.149 260.626C109.987 260.691 109.84 260.788 109.716 260.91C109.591 261.032 109.492 261.178 109.424 261.339C108.99 262.3 108.493 263.232 107.937 264.129C98.9478 247.343 84.3604 234.261 66.7266 227.171C66.9054 225.713 67.1078 224.179 67.3431 222.598C81.6636 224.334 96.0773 225.184 110.502 225.142C124.925 225.184 139.337 224.334 153.656 222.598C153.892 224.179 154.099 225.713 154.273 227.171C136.639 234.261 122.052 247.343 113.062 264.129Z"
	/>
	<path
		on:click={select_body}
		name={body_parts[body_index++]}
		fill="#9AD0D0"
		active="#388E8E"
		passive="#9AD0D0"
		state="0"
		d="M99.1744 334.886C95.6563 331.961 91.3788 330.104 86.8446 329.533C85.7679 329.392 84.6833 329.321 83.5974 329.321C78.9366 329.287 74.3745 330.668 70.51 333.281C69.9123 322.246 68.0393 310.054 66.0675 297.183C63.0085 277.255 64.3968 258.007 65.5074 242.568C65.7192 239.604 65.9216 236.8 66.0769 234.214C66.1663 232.652 66.3122 230.943 66.5051 229.121C83.9989 236.288 98.356 249.501 106.977 266.366C107.048 267.867 106.097 274.716 101.443 298.061C100.229 304.149 99.7909 316.941 99.3626 329.335C99.2968 331.218 99.2403 333.083 99.1744 334.886Z"
	/>
	<path
		on:click={select_body}
		name={body_parts[body_index++]}
		fill="#9AD0D0"
		active="#388E8E"
		passive="#9AD0D0"
		state="0"
		d="M121.829 334.886C121.759 333.083 121.697 331.218 121.632 329.335C121.208 316.955 120.766 304.149 119.552 298.061C114.897 274.716 113.947 267.853 114.017 266.366C122.64 249.502 136.996 236.29 154.489 229.121C154.682 230.943 154.828 232.652 154.922 234.214C155.073 236.8 155.275 239.604 155.487 242.568C156.602 258.021 157.986 277.255 154.931 297.183C152.955 310.054 151.082 322.246 150.484 333.281C146.625 330.671 142.07 329.291 137.416 329.321C136.33 329.321 135.245 329.392 134.168 329.533C129.631 330.101 125.349 331.958 121.829 334.886Z"
	/>
	<path
		on:click={select_body}
		name={body_parts[body_index++]}
		fill="#9AD0D0"
		active="#388E8E"
		passive="#9AD0D0"
		state="0"
		d="M85.0376 366.651C84.0351 366.651 83.0337 366.585 82.0398 366.453C76.9456 365.846 72.2338 363.438 68.75 359.661C68.9288 358.764 69.1077 357.872 69.2771 356.97C70.4865 350.561 70.9242 343.547 70.6183 335.542C74.341 332.684 78.9098 331.157 83.5975 331.204C84.6014 331.205 85.6042 331.27 86.6 331.398C91.2907 331.979 95.6685 334.065 99.0804 337.345C98.8498 343.212 98.5439 349.536 98.0121 352.689C97.9368 353.128 97.8615 353.497 97.7862 353.784C97.3391 355.455 96.7133 357.254 96.0544 359.151C95.4803 360.794 94.8403 362.639 94.2332 364.636C91.3503 365.969 88.2121 366.655 85.0376 366.646V366.651Z"
	/>
	<path
		on:click={select_body}
		name={body_parts[body_index++]}
		fill="#9AD0D0"
		active="#388E8E"
		passive="#9AD0D0"
		state="0"
		d="M135.962 366.651C132.787 366.66 129.649 365.974 126.766 364.641C126.159 362.644 125.519 360.798 124.945 359.156C124.286 357.268 123.66 355.46 123.218 353.789C123.138 353.501 123.063 353.133 122.987 352.694C122.455 349.541 122.15 343.217 121.919 337.35C125.331 334.069 129.709 331.983 134.399 331.403C135.395 331.275 136.398 331.21 137.402 331.209C142.09 331.162 146.658 332.689 150.381 335.547C150.075 343.571 150.513 350.566 151.722 356.975C151.892 357.877 152.07 358.769 152.249 359.666C148.765 363.441 144.053 365.847 138.959 366.453C137.966 366.585 136.964 366.651 135.962 366.651Z"
	/>
	<path
		on:click={select_body}
		name={body_parts[body_index++]}
		fill="#9AD0D0"
		active="#388E8E"
		passive="#9AD0D0"
		state="0"
		d="M77.3665 459.147C73.1178 458.366 68.8259 457.843 64.5143 457.58C64.232 452.459 63.6672 443.623 62.5049 425.437C61.0413 402.546 62.9755 388.15 64.8579 378.167C65.6108 374.094 66.4438 370.332 67.2485 366.693C67.6156 365.05 67.9638 363.474 68.298 361.897C71.9906 365.451 76.7334 367.707 81.8137 368.326C82.8888 368.467 83.9719 368.538 85.0562 368.538C87.9696 368.541 90.8591 368.012 93.5835 366.976C92.0587 372.67 91.3021 378.544 91.334 384.44C91.334 396.613 84.9762 422.846 81.1737 438.521C79.4795 445.502 78.2559 450.548 78.1148 452.129C77.9736 453.71 77.8183 454.961 77.6865 456.046C77.5218 457.274 77.4041 458.251 77.3665 459.147Z"
	/>
	<path
		on:click={select_body}
		name={body_parts[body_index++]}
		fill="#9AD0D0"
		active="#388E8E"
		passive="#9AD0D0"
		state="0"
		d="M143.633 459.147C143.595 458.25 143.477 457.259 143.332 456.07C143.2 454.975 143.049 453.738 142.903 452.152C142.757 450.566 141.539 445.544 139.844 438.545C136.047 422.87 129.684 396.636 129.684 384.463C129.716 378.567 128.959 372.694 127.435 367C130.159 368.035 133.048 368.565 135.962 368.562C137.046 368.562 138.129 368.491 139.204 368.349C144.285 367.73 149.027 365.475 152.72 361.921C153.054 363.497 153.402 365.074 153.77 366.716C154.574 370.355 155.407 374.117 156.165 378.191C158.019 388.173 159.958 402.569 158.518 425.461C157.356 443.647 156.791 452.483 156.504 457.604C152.186 457.858 147.888 458.373 143.633 459.147Z"
	/>
	<path
		on:click={select_body}
		name={body_parts[body_index++]}
		fill="#9AD0D0"
		active="#388E8E"
		passive="#9AD0D0"
		state="0"
		d="M62.2093 502C61.3625 501.961 60.565 501.59 59.988 500.967C59.8996 500.862 59.7893 500.777 59.665 500.719C59.5406 500.661 59.4051 500.632 59.268 500.632C59.1543 500.632 59.0413 500.651 58.9339 500.688C58.427 500.889 57.8883 500.998 57.3432 501.009C56.8848 501.031 56.4291 500.927 56.0252 500.708C55.6214 500.489 55.2847 500.164 55.0514 499.768C54.9728 499.611 54.8524 499.48 54.7037 499.388C54.5549 499.297 54.3836 499.248 54.209 499.249C54.1652 499.244 54.1211 499.244 54.0773 499.249C53.8947 499.272 53.7108 499.285 53.5266 499.286C52.9769 499.299 52.4366 499.141 51.9788 498.836C51.521 498.53 51.1677 498.091 50.9666 497.578C50.9147 497.443 50.8326 497.321 50.7265 497.223C50.6204 497.125 50.4932 497.052 50.3548 497.011C50.0316 496.929 49.7318 496.773 49.4788 496.555C49.2257 496.337 49.0263 496.064 48.8959 495.756C48.463 494.661 48.8959 493.033 49.503 491.904C50.2418 490.673 51.7948 488.52 53.5925 486.033C59.7104 477.537 64.7882 470.207 64.7882 466.558C64.7882 464.387 64.7882 463.113 64.6047 459.502C68.9095 459.774 73.1938 460.309 77.4333 461.107C77.4615 461.296 77.4945 461.484 77.5321 461.668C77.871 463.368 77.2733 466.332 76.8545 466.955C76.7772 467.073 76.7274 467.207 76.7086 467.347C75.6074 475.059 73.9414 486.071 72.1343 492.584L70.3272 500.301C70.0786 500.709 69.7261 501.044 69.306 501.27C68.8858 501.497 68.4132 501.607 67.9365 501.59C67.2275 501.558 66.5253 501.436 65.847 501.226C65.4433 501.093 65.0242 501.012 64.5999 500.986C64.4061 500.979 64.2134 501.018 64.0375 501.1C63.8617 501.182 63.7077 501.304 63.5881 501.458C63.218 501.814 62.7223 502.009 62.2093 502Z"
	/>
	<path
		on:click={select_body}
		name={body_parts[body_index++]}
		fill="#9AD0D0"
		active="#388E8E"
		passive="#9AD0D0"
		state="0"
		d="M158.791 502C158.529 502.004 158.268 501.954 158.026 501.855C157.783 501.755 157.563 501.607 157.379 501.42C157.26 501.266 157.106 501.143 156.93 501.061C156.754 500.978 156.561 500.94 156.367 500.948C155.943 500.974 155.524 501.055 155.12 501.188C154.442 501.398 153.74 501.52 153.031 501.552C152.554 501.57 152.082 501.46 151.663 501.233C151.243 501.007 150.892 500.672 150.645 500.263L148.842 492.584C147.03 486.032 145.36 475.021 144.259 467.308C144.24 467.169 144.19 467.035 144.113 466.917C143.694 466.294 143.101 463.329 143.435 461.63C143.473 461.446 143.506 461.257 143.534 461.069C147.773 460.272 152.058 459.736 156.362 459.464C156.179 463.075 156.179 464.349 156.179 466.52C156.179 470.169 161.252 477.499 167.379 485.995C169.172 488.482 170.725 490.634 171.483 491.899C172.076 492.994 172.504 494.623 172.071 495.718C171.941 496.026 171.741 496.299 171.488 496.517C171.235 496.735 170.936 496.891 170.612 496.973C170.473 497.02 170.346 497.098 170.243 497.202C170.139 497.306 170.061 497.433 170.015 497.573C169.814 498.086 169.46 498.525 169.002 498.831C168.545 499.136 168.004 499.294 167.455 499.281C167.27 499.28 167.087 499.267 166.904 499.244C166.86 499.239 166.816 499.239 166.772 499.244C166.598 499.243 166.426 499.292 166.278 499.383C166.129 499.475 166.008 499.606 165.93 499.763C165.697 500.159 165.36 500.484 164.956 500.703C164.552 500.922 164.096 501.026 163.638 501.004C163.093 500.993 162.554 500.884 162.047 500.683C161.941 500.646 161.83 500.627 161.718 500.627C161.58 500.626 161.444 500.655 161.318 500.713C161.193 500.771 161.082 500.856 160.993 500.962C160.422 501.582 159.632 501.954 158.791 502Z"
	/>
</svg>
